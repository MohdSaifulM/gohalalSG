(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,a){},202:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(17),s=a.n(i),o=(a(126),a(7)),l=(a(202),a(30)),j=a(21),u=a(9),d=a.n(u),b=a(16),h=a(20),p=a(374),x=a(42),m=a(377),O=a(378),g=a(381),f=a(379),v=a(161),y=a.n(v),w=a(403),k=a(175),S=a(376),C=a(329),I=a(14),N=a.n(I),T=a(399),A=a(118),B=a.n(A),W=a(382),z=a(162),D=a.n(z),F=a(163),R=a.n(F),P=a(116),L=a.n(P),M=a(164),_=a.n(M),q=a(117),E=a.n(q),H=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({},e.breakpoints.down("xs"),{flexGrow:1}),headerOptions:{display:"flex",flex:1},headerOptions2:{display:"flex",flex:1,justifyContent:"flex-end"},headerOptions3:{display:"flex",flex:1,justifyContent:"center"},button:{margin:"10px"}}}));var G=function(e){var t,a=e.isAuth,i=e.setIsAuth,s=e.isAdmin,u=e.setIsAdmin,h=(e.isOwner,e.setIsOwner,e.login),p=e.logout,v=e.setLogin,I=e.setLogout,A=H(),z=c.a.useState(null),F=Object(o.a)(z,2),P=F[0],M=F[1],q=Boolean(P),G=Object(x.a)(),V=Object(S.a)(G.breakpoints.down("xs")),U=Object(j.g)(),Y=Object(r.useState)(),J=Object(o.a)(Y,2),X=J[0],K=J[1],Q=function(e){U.push(e),M(null)},Z=function(e){U.push(e)};function $(){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userId"),K(""),i(!1),u(!1),I(!0),U.push("/")}var ee=localStorage.getItem("token");function te(){return(te=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=localStorage.getItem("userId"))){e.next=12;break}return e.prev=2,e.next=5,N.a.get("/api/v1/auth/get-user/".concat(t));case 5:e.sent,K(localStorage.getItem("username")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return a&&function(){te.apply(this,arguments)}(),Object(n.jsxs)("div",{className:A.root,children:[Object(n.jsx)(m.a,{position:"static",style:{background:"#4db6ac"},children:Object(n.jsx)(O.a,{children:V?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{edge:"start",className:A.menuButton,onClick:function(e){M(e.currentTarget)},"aria-label":"menu",children:Object(n.jsx)(y.a,{})}),Object(n.jsx)(C.a,{variant:"h4",color:"textPrimary",children:"goHalal"}),Object(n.jsxs)(k.a,{id:"menu-appbar",anchorEl:P,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:q,onClose:function(){return M(null)},children:[Object(n.jsx)(w.a,{onClick:function(){return Q("/")},children:"Home"}),a?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(w.a,{onClick:$,children:"Logout"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w.a,{onClick:function(){return Q("/signin")},children:"Login"}),Object(n.jsx)(w.a,{onClick:function(){return Q("/signup")},children:"Register"})]})]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(C.a,{variant:"h5",color:"textPrimary",style:{marginRight:"10px"},children:Object(n.jsx)(l.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"goHalal"})}),Object(n.jsxs)("div",{className:A.headerOptions,children:[Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:function(){return Z("/map")},children:["Find Nearby",Object(n.jsx)(D.a,{})]}),Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:function(){return Z("/all-restaurants")},children:["Restaurants",Object(n.jsx)(R.a,{})]})]}),Object(n.jsx)("div",{className:A.headerOptions3}),Object(n.jsx)("div",{className:A.headerOptions2,children:null!=ee?Object(n.jsxs)("div",{children:[Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:$,children:[Object(n.jsx)(L.a,{}),"Logout"]}),s?Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:function(){return Z("/admin")},children:[Object(n.jsx)(E.a,{}),"Admin"]}):Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:function(){return Z("/user/".concat(t))},children:[Object(n.jsx)(E.a,{})," ",X]})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:function(){return Z("/signin")},children:[Object(n.jsx)(L.a,{}),"Login"]}),Object(n.jsxs)(g.a,{className:A.button,variant:"text",onClick:function(){return Z("/signup")},children:[Object(n.jsx)(_.a,{}),"Register"]})]})})]})})}),h&&Object(n.jsx)(W.a,{in:h,children:Object(n.jsx)(T.a,{action:Object(n.jsx)(f.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){v(!1)},children:Object(n.jsx)(B.a,{fontSize:"inherit"})}),children:"Successfully logged in!"})}),p&&Object(n.jsx)(W.a,{in:p,children:Object(n.jsx)(T.a,{action:Object(n.jsx)(f.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){I(!1)},children:Object(n.jsx)(B.a,{fontSize:"inherit"})}),severity:"info",children:"You are logged out! See you soon!"})})]})},V=a(13),U=a(396),Y=a(178),J=a(385),X=a(404),K=a(383),Q=a(384);Object(p.a)((function(e){return{root:{display:"flex",backgroundColor:"#adb5bd"},container:{marginTop:e.spacing(8),marginBottom:e.spacing(8),display:"flex"},iconsWrapper:{height:120},icons:{display:"flex"},icon:{width:48,height:48,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#2a9d8f",marginRight:e.spacing(1),"&:hover":{backgroundColor:e.palette.warning.dark}},list:{margin:0,listStyle:"none",padding:0},listItem:{paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5)},language:{marginTop:e.spacing(1),width:150}}}));a(325),Object(p.a)((function(e){return{grid:{width:"100%",margin:"40px"},paper:{padding:e.spacing(5),color:e.palette.primary.light}}})),Object(p.a)((function(e){return{paper:{margin:"10px",padding:e.spacing(6),textAlign:"center",color:e.palette.primary.light}}}));var Z=a(402),$=a(74),ee=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],te=a(389),ae=a(409),ne=a(390),re=a(391),ce=a(398);Object(p.a)((function(e){return{root:{backgroundColor:"#f0efeb"},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{height:"300px",paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}));var ie=function(){var e=Object(r.useState)(["places"]),t=Object(o.a)(e,2),a=t[0],c=(t[1],Object(r.useState)(null)),i=Object(o.a)(c,2),s=i[0],j=i[1],u=Object(r.useState)(11),h=Object(o.a)(u,2),x=h[0],m=h[1],O=Object(r.useState)({lat:1.3521,lng:103.8198}),g=Object(o.a)(O,2),f=g[0],v=g[1],y=Object(r.useState)([]),w=Object(o.a)(y,2),k=w[0],S=w[1],I=Object(r.useState)([]),T=Object(o.a)(I,2),A=T[0],B=T[1],W=Object(r.useState)(),z=Object(o.a)(W,2),D=z[0],F=z[1],R=Object(r.useState)(""),P=Object(o.a)(R,2),L=P[0],M=P[1],_=Object(r.useState)([]),q=Object(o.a)(_,2),E=q[0],H=q[1];Object(r.useEffect)((function(){return function(){V.apply(this,arguments)}(),function(){de()}}),[]);var G=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)}}}))();function V(){return(V=Object(b.a)(d.a.mark((function e(){var t,a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/v1/restaurants/");case 3:for(t=e.sent,a=t.data.restaurants,n=E,r=0;r<a.length;r++)(c=[]).push(a[r].name),c.push(a[r].lat),c.push(a[r].lng),c.push(a[r].id),c.push(a[r].address),c.push(a[r].picture),n.push(c);H(n),be(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var U={width:"600px",height:"100vh"},Y={styles:ee,disableDefaultUI:!0},X={componentRestrictions:{country:"sg"}},K=Object($.d)({googleMapsApiKey:"AIzaSyAq6O_zgG0YtvxPVaQHjd0oGswPB_Nh2Qk",libraries:a}),ie=K.isLoaded,se=K.loadError;function oe(e){j(e)}var le=function(e){};function je(e,t){for(var a=[],n=[],r=[],c=0;c<e.length;c++){var i=new google.maps.LatLng(e[c][1],e[c][2]),s=Object(Z.a)(i,t);s<=1e3&&(a.push(e[c]),n.push(c+1),r.push({name:e[c][0],distance:Math.floor(s),id:e[c][3],address:e[c][4],picture:e[c][5]}))}return r.sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r=a[e],c=n[e],i=0;return r>c?i=1:r<c&&(i=-1),"desc"===t?-1*i:i}}("distance")),[a,n,r]}function ue(){if(null!==s){var e=s.getPlace();if(!e.geometry)return void window.alert("No address available for input: '"+e.name+"'");var t=e.geometry.location;v(t),m(15),F(t);var a=je(E,t),n=a[0],r=a[2];de(),S(n),B(r)}}function de(){S([]),B([])}function be(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};v(t),m(15),F(t),de();var a=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),n=je(E,a),r=n[0],c=n[2];de(),S(r),B(c),F(t)}),(function(){alert("Whoops! Something went wrong. Enable your location or enter it.")})):alert("Whoops! Something went wrong. Enable your location or enter it.")}var he=Object(r.useState)(1),pe=Object(o.a)(he,2),xe=pe[0],me=pe[1],Oe=Object(r.useState)(4),ge=Object(o.a)(Oe,1)[0],fe=xe*ge,ve=fe-ge,ye=A.slice(ve,fe),we=Math.ceil(A.length/ge);function ke(e){me(parseInt(e.target.innerText))}return se?Object(n.jsx)("div",{children:"Map cannot be loaded right now, sorry."}):ie?Object(n.jsx)(Q.a,{className:G.root,children:Object(n.jsxs)(J.a,{container:!0,style:{margin:"20px"},children:[Object(n.jsx)(J.a,{item:!0,md:6,children:Object(n.jsxs)($.b,{mapContainerStyle:U,zoom:x,center:f,options:Y,children:[Object(n.jsx)($.a,{onLoad:oe,onPlaceChanged:ue,options:X,children:Object(n.jsx)("input",{type:"text",placeholder:"Enter your location here..",style:{boxSizing:"border-box",border:"1px solid transparent",width:"250px",height:"40px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"20px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"50%",marginLeft:"-120px",marginTop:"10px"}})}),D&&Object(n.jsx)($.c,{position:D,icon:"http://maps.google.com/mapfiles/kml/paddle/wht-stars.png"}),0!=k.length&&k.map((function(e,t){return Object(n.jsx)($.c,{id:"mark-".concat(e[3]),onLoad:le,position:{lat:e[1],lng:e[2]},title:e[0],animation:L==="mark-".concat(e[3])?google.maps.Animation.BOUNCE:""},"mark-".concat(t))}))]})}),0===ye.length?Object(n.jsx)(ae.a,{open:"true",children:Object(n.jsx)(te.a,{})}):Object(n.jsx)(J.a,{item:!0,md:6,children:Object(n.jsxs)(Q.a,{className:G.cardGrid,maxWidth:"md",children:[Object(n.jsx)(ce.a,{count:we,onChange:ke,page:xe,siblingCount:1,boundaryCount:1,hideNextButton:!0,hidePrevButton:!0,color:"primary",style:{margin:"20px"}}),Object(n.jsx)(J.a,{container:!0,spacing:4,children:ye.map((function(e,t){return Object(n.jsx)(J.a,{item:!0,xs:12,sm:12,md:12,onMouseOver:function(){return t=e.id,M(""),void M("mark-".concat(t));var t},children:Object(n.jsx)(ne.a,{className:G.card,children:Object(n.jsxs)(re.a,{className:G.cardContent,children:[Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(n.jsx)(l.b,{to:"/restaurant/".concat(e.id),style:{textDecoration:"none"},children:e.name})}),Object(n.jsx)(C.a,{children:e.address}),Object(n.jsxs)(C.a,{variant:"button",children:[e.distance,"m away"]})]})})},t)}))})]})})]})}):Object(n.jsx)(ae.a,{open:"true",children:Object(n.jsx)(te.a,{color:"inherit"})})},se=a(405),oe=a(176),le=a(397),je=a(392),ue=a(388),de=a(408),be=a(401);function he(e){var t=e.children,a=e.value,r=e.index,c=Object(oe.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(V.a)(Object(V.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},c),{},{children:a===r&&Object(n.jsx)(Q.a,{children:Object(n.jsx)(U.a,{children:t})})}))}function pe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var xe=Object(p.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",margin:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function me(e){var t=e.reviews,a=e.id,i=e.userGroup,s=e.stars,l=e.getRestaurant,j=e.getReviews,u=e.ownRestaurant,p=xe(),x=c.a.useState(0),O=Object(o.a)(x,2),f=O[0],v=O[1],y=Object(r.useState)(),k=Object(o.a)(y,2),S=k[0],I=k[1],T=parseInt(localStorage.getItem("userId"));function A(e){I(Object(V.a)(Object(V.a)({},S),{},Object(h.a)({restaurant:parseInt(a),user:T},e.target.name,e.target.value)))}function B(e){I(Object(V.a)(Object(V.a)({},S),{},Object(h.a)({restaurant:parseInt(a)},e.target.name,e.target.value)))}function W(){return(W=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={user:T,restaurant:a},n=localStorage.getItem("token"),e.next=5,N.a.post("/api/v1/auth/request-ownership/".concat(T,"/").concat(a),t,{headers:{Authorization:"Token ".concat(n)}});case 5:e.sent,alert("Done! Admin notified!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),alert("Please login!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function z(){return(z=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N.a.post("/api/v1/reviews/post/".concat(T,"/").concat(a,"/"),S,{headers:{Authorization:"Token ".concat(t)}});case 4:e.sent,alert("Successfully added review!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),alert("Please login to submit a review");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function D(){return(D=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N.a.put("/api/v1/restaurants/update/".concat(a,"/").concat(T,"/"),S,{headers:{Authorization:"Token ".concat(t)}});case 4:e.sent,alert("Successfully edited restaurant!"),l(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),alert("Meh");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:p.root,children:[Object(n.jsx)(m.a,{position:"static",color:"default",children:Object(n.jsxs)(le.a,{value:f,onChange:function(e,t){v(t)},"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(n.jsx)(je.a,Object(V.a)({label:"Reviews"},pe(0))),"restaurant_owner"==i&&u==a?Object(n.jsx)(je.a,Object(V.a)({label:"Edit Page"},pe(1))):Object(n.jsx)(je.a,Object(V.a)({label:"Leave A Review"},pe(1))),"restaurant_owner"!=i&&Object(n.jsx)(je.a,Object(V.a)({label:"Own this place?"},pe(2)))]})}),Object(n.jsx)(he,{value:f,index:0,children:t?Object(n.jsx)("ul",{className:"list-group mb-4",children:Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(J.a,{item:!0,xs:8,children:t.map((function(e,t){return Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(ne.a,{className:p.card,style:{marginTop:"10px"},children:Object(n.jsxs)(re.a,{className:p.cardContent,children:[Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.review_title}),Object(n.jsx)(C.a,{children:s(e.average_rating)}),Object(n.jsxs)(C.a,{children:[e.review_body," - ",e.user.username]})]})})},t)}))})})}):Object(n.jsx)("div",{children:"No reviews yet! "})}),Object(n.jsx)(he,{value:f,index:1,children:"restaurant_owner"==i?Object(n.jsx)(Q.a,{component:"main",maxWidth:"md",children:Object(n.jsx)("div",{className:p.paper,children:Object(n.jsxs)("form",{className:p.form,noValidate:!0,children:[Object(n.jsxs)(J.a,{container:!0,spacing:2,children:[Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{autoComplete:"name",name:"name",variant:"outlined",fullWidth:!0,id:"name",label:"name",autoFocus:!0,onChange:B})}),Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{variant:"outlined",fullWidth:!0,id:"address",label:"address",name:"address",autoComplete:"address",onChange:B})}),Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsxs)(ue.a,{fullWidth:!0,children:[Object(n.jsx)(de.a,{id:"cuisine-label",children:"Cuisine"}),Object(n.jsxs)(be.a,{labelId:"cuisine-label",id:"cuisine",name:"cuisine",fullWidth:!0,defaultValue:"",onChange:B,children:[Object(n.jsx)(w.a,{value:"European",children:"European"}),Object(n.jsx)(w.a,{value:"American",children:"American"}),Object(n.jsx)(w.a,{value:"Bakery and Cakes",children:"Bakery and Cakes"}),Object(n.jsx)(w.a,{value:"Beverages",children:"Beverages"}),Object(n.jsx)(w.a,{value:"Chinese",children:"Chinese"}),Object(n.jsx)(w.a,{value:"Desserts",children:"Desserts"}),Object(n.jsx)(w.a,{value:"Fast Food",children:"Fast Food"}),Object(n.jsx)(w.a,{value:"Fusion",children:"Fusion"}),Object(n.jsx)(w.a,{value:"Indian",children:"Indian"}),Object(n.jsx)(w.a,{value:"Indonesian",children:"Indonesian"}),Object(n.jsx)(w.a,{value:"International",children:"International"}),Object(n.jsx)(w.a,{value:"Japanese",children:"Japanese"}),Object(n.jsx)(w.a,{value:"Korean",children:"Korean"}),Object(n.jsx)(w.a,{value:"Malay",children:"Malay"}),Object(n.jsx)(w.a,{value:"Mediterranean",children:"Mediterranean"}),Object(n.jsx)(w.a,{value:"Peranakan",children:"Peranakan"}),Object(n.jsx)(w.a,{value:"Pizza",children:"Pizza"}),Object(n.jsx)(w.a,{value:"Seafood",children:"Seafood"}),Object(n.jsx)(w.a,{value:"Thai",children:"Thai"}),Object(n.jsx)(w.a,{value:"Western",children:"Western"})]})]})})]}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit,onClick:function(e){e.preventDefault(),S&&function(){D.apply(this,arguments)}()},children:"Submit"})]})})}):Object(n.jsx)(Q.a,{component:"main",maxWidth:"md",children:Object(n.jsx)("div",{className:p.paper,children:Object(n.jsxs)("form",{className:p.form,noValidate:!0,children:[Object(n.jsxs)(J.a,{container:!0,spacing:2,children:[Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{autoComplete:"fname",name:"review_title",variant:"outlined",fullWidth:!0,id:"review_title",label:"Title",autoFocus:!0,onChange:A})}),Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{variant:"outlined",fullWidth:!0,id:"review_body",label:"Share your thoughts!",name:"review_body",autoComplete:"lname",onChange:A})}),Object(n.jsx)(J.a,{item:!0,xs:4,children:Object(n.jsxs)(ue.a,{fullWidth:!0,children:[Object(n.jsx)(de.a,{id:"service-rating-label",children:"Service Rating"}),Object(n.jsxs)(be.a,{labelId:"service-rating-label",id:"service_rating",name:"service_rating",fullWidth:!0,defaultValue:"",onChange:A,children:[Object(n.jsx)(w.a,{value:1,children:"1"}),Object(n.jsx)(w.a,{value:2,children:"2"}),Object(n.jsx)(w.a,{value:3,children:"3"}),Object(n.jsx)(w.a,{value:4,children:"4"}),Object(n.jsx)(w.a,{value:5,children:"5"})]})]})}),Object(n.jsx)(J.a,{item:!0,xs:4,children:Object(n.jsxs)(ue.a,{fullWidth:!0,children:[Object(n.jsx)(de.a,{id:"taste-rating-label",children:"Taste Rating"}),Object(n.jsxs)(be.a,{labelId:"tate-rating-label",id:"taste",name:"taste",fullWidth:!0,onChange:A,defaultValue:"",children:[Object(n.jsx)(w.a,{value:1,children:"1"}),Object(n.jsx)(w.a,{value:2,children:"2"}),Object(n.jsx)(w.a,{value:3,children:"3"}),Object(n.jsx)(w.a,{value:4,children:"4"}),Object(n.jsx)(w.a,{value:5,children:"5"})]})]})}),Object(n.jsx)(J.a,{item:!0,xs:4,children:Object(n.jsxs)(ue.a,{fullWidth:!0,children:[Object(n.jsx)(de.a,{id:"cleanliness-rating-label",children:"Cleanliness Rating"}),Object(n.jsxs)(be.a,{labelId:"cleanliness-rating-label",id:"service_rating",name:"cleanliness_rating",fullWidth:!0,onChange:A,defaultValue:"",children:[Object(n.jsx)(w.a,{value:1,children:"1"}),Object(n.jsx)(w.a,{value:2,children:"2"}),Object(n.jsx)(w.a,{value:3,children:"3"}),Object(n.jsx)(w.a,{value:4,children:"4"}),Object(n.jsx)(w.a,{value:5,children:"5"})]})]})})]}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit,onClick:function(e){e.preventDefault(),S&&(!function(){z.apply(this,arguments)}(),j())},children:"Submit"}),Object(n.jsx)(J.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(J.a,{item:!0,children:Object(n.jsxs)(K.a,{href:"/login",variant:"body2",children:["Have an account?",Object(n.jsx)("br",{}),"Account required to post a review."]})})})]})})})}),"restaurant_owner"!=i&&Object(n.jsx)(he,{value:f,index:2,children:Object(n.jsx)(J.a,{container:!0,justify:"center",alignItems:"center",children:Object(n.jsxs)(J.a,{item:!0,xs:12,style:{margin:"20px"},children:[Object(n.jsx)(C.a,{variant:"h5",align:"center",children:"If you own this place.."}),Object(n.jsx)(g.a,{fullWidth:!0,variant:"contained",color:"primary",style:{margin:"20px"},onClick:function(){return W.apply(this,arguments)},children:"Let the admin know!"})]})})})]})}var Oe=a(33),ge=a.n(Oe),fe=a(168),ve=a.n(fe);var ye=function(e){var t=e.isAuth,a=Object(r.useState)({}),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(!1),u=Object(o.a)(l,2),h=u[0],x=u[1],m=Object(r.useState)(),O=Object(o.a)(m,2),f=O[0],v=O[1],y=Object(r.useState)(!1),w=Object(o.a)(y,2),k=w[0],S=w[1],I=Object(r.useState)(),T=Object(o.a)(I,2),A=(T[0],T[1]),B=Object(r.useState)(),W=Object(o.a)(B,2),z=W[0],D=W[1],F=Object(r.useState)(),R=Object(o.a)(F,2),P=R[0],L=R[1],M=Object(j.h)().id,_=localStorage.getItem("userId");function q(e){return 1===e?Object(n.jsx)(ge.a,{}):2===e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{})]}):3===e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{})]}):4===e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{}),Object(n.jsx)(ge.a,{})]}):5===e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{}),Object(n.jsx)(ge.a,{})," ",Object(n.jsx)(ge.a,{})]}):void 0}function E(){return H.apply(this,arguments)}function H(){return(H=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/v1/restaurants/".concat(M));case 3:t=e.sent,a=t.data.restaurant,s({info:a}),x(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function G(){return V.apply(this,arguments)}function V(){return(V=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/v1/reviews/".concat(M));case 3:t=e.sent,a=t.data.reviews,v(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(){return(U=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/v1/auth/get-user/".concat(_));case 3:t=e.sent,Y(a=t.data.profile.favourites),A(a),D(t.data.group.name),L(t.data.profile.restaurant_owned[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Y(e){for(var t=0;t<e.length;t++)e[t]==M&&S(!0)}Object(r.useEffect)((function(){return E(),G(),t&&function(){U.apply(this,arguments)}(),function(){}}),[]);var X=Object(p.a)((function(e){return{header:{backgroundImage:"url(".concat("https://images.unsplash.com/photo-1546484613-910673d7d247?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",")"),height:"30vh",position:"center",backgroundSize:"cover"}}}))();function K(){return Z.apply(this,arguments)}function Z(){return(Z=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=15;break}return e.prev=1,t=localStorage.getItem("token"),e.next=5,N.a.post("/api/v1/auth/favourite-restaurant/".concat(_,"/").concat(M),{},{headers:{Authorization:"Token ".concat(t)}});case 5:e.sent,S(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),alert("Please login to like!");case 13:e.next=27;break;case 15:return e.prev=15,a=localStorage.getItem("token"),e.next=19,N.a.post("/api/v1/auth/unfavourite-restaurant/".concat(_,"/").concat(M),{},{headers:{Authorization:"Token ".concat(a)}});case 19:e.sent,S(!1),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(15),console.log(e.t1.response),alert("Please login to like!");case 27:case"end":return e.stop()}}),e,null,[[1,9],[15,23]])})))).apply(this,arguments)}return h?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(J.a,{container:!0,className:X.header,alignItems:"center",justify:"center",children:Object(n.jsxs)(J.a,{item:!0,children:[Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(C.a,{variant:"h2",color:"textSecondary",children:i.info.name})}),Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(C.a,{align:"center",variant:"button",color:"textSecondary",children:i.info.address.toUpperCase()})}),Object(n.jsx)(J.a,{container:!0,justify:"center",style:{marginTop:"5px"},children:Object(n.jsx)(se.a,{label:i.info.cuisine,style:{padding:"10px"}})}),Object(n.jsx)(J.a,{container:!0,justify:"center",style:{marginTop:"5px",marginBottom:"5px"},children:Object(n.jsx)(g.a,{onClick:K,children:Object(n.jsx)(ve.a,{fontSize:"large",color:k?"primary":"action"})})})]})}),Object(n.jsx)(J.a,{container:!0,children:Object(n.jsx)(Q.a,{children:Object(n.jsx)(me,{reviews:f,id:M,stars:q,userGroup:z,getRestaurant:E,getReviews:G,isAuth:t,ownRestaurant:P})})})]}):Object(n.jsx)(ae.a,{open:"true",children:Object(n.jsx)(te.a,{color:"inherit"})})},we=Object(p.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",marginBottom:"10px"},cardContent:{flexGrow:1}}}));var ke=function(e){var t=e.restaurants,a=e.loading,r=we();return a?Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)("ul",{children:t.map((function(e,t){return Object(n.jsx)(J.a,{item:!0,children:Object(n.jsx)(ne.a,{className:r.card,children:Object(n.jsxs)(re.a,{className:r.cardContent,children:[Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(n.jsx)(l.b,{to:"/restaurant/".concat(e.id),style:{textDecoration:"none"},children:e.name})}),Object(n.jsx)(C.a,{variant:"body1",children:e.address})]})})},t)}))})}):Object(n.jsx)("h2",{children:"Loading..."})},Se=a(400);var Ce=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)(!1),l=Object(o.a)(s,2),j=l[0],u=l[1],h=Object(r.useState)(1),x=Object(o.a)(h,2),m=x[0],O=x[1],g=Object(r.useState)(5),f=Object(o.a)(g,1)[0],v=m*f,y=v-f,w=a.slice(y,v),k=Math.ceil(a.length/f);function S(){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/v1/restaurants/");case 3:t=e.sent,a=t.data.restaurants,i(a),u(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}Object(r.useEffect)((function(){return S(),function(){}}),[]);var T=Object(p.a)((function(e){return{header:{backgroundImage:"url(".concat("https://images.unsplash.com/photo-1546484613-910673d7d247?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",")"),height:"20vh",position:"center",backgroundSize:"cover"},option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}}))();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(J.a,{container:!0,className:T.header,alignItems:"center",justify:"center",children:Object(n.jsxs)(J.a,{item:!0,children:[Object(n.jsx)(C.a,{align:"center",variant:"h2",color:"textSecondary",children:"Restaurants"}),Object(n.jsx)(C.a,{variant:"button",color:"textSecondary",children:"View all halal certified restaurants in Singapore."})]})}),Object(n.jsx)(J.a,{container:!0,alignItems:"center",justify:"center",children:Object(n.jsxs)(J.a,{item:!0,children:[Object(n.jsx)(J.a,{container:!0,style:{marginTop:"10px",marginBottom:"10px"},justify:"center",children:Object(n.jsx)(Se.a,{id:"restaurant select",style:{width:300},options:a,classes:{option:T.option},onChange:function(e,t){var n=[];if(null!=t){for(var r=0;r<a.length;r++)t.name==a[r].name&&n.push(a[r]);i(n)}else S()},autoHighlight:!0,getOptionLabel:function(e){return e.name},renderOption:function(e){return Object(n.jsx)(c.a.Fragment,{children:e.name})},renderInput:function(e){return Object(n.jsx)(X.a,Object(V.a)(Object(V.a)({},e),{},{label:"Enter restaurant name",variant:"outlined",inputProps:Object(V.a)(Object(V.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}})}),Object(n.jsx)(ce.a,{count:k,onChange:function(e){O(parseInt(e.target.innerText))},page:m,siblingCount:1,boundaryCount:1,hideNextButton:!0,hidePrevButton:!0,color:"primary",style:{marginTop:"10px"}})]})}),Object(n.jsx)(J.a,{container:!0,alignItems:"center",justify:"center",children:Object(n.jsx)(Q.a,{children:Object(n.jsx)(ke,{restaurants:w,loading:j})})})]})},Ie=a(406),Ne=a(380),Te=a(394),Ae=a(393),Be=Object(p.a)((function(e){return{large:{margin:"5%",padding:"80px"},user:{display:"flex",flexDirection:"column",width:"130px"},butt:{width:"fit-content"},title:{fontSize:14},pos:{marginBottom:12},cardlinks:{marginTop:"5%",marginBottom:"5%"},button:{marginTop:e.spacing(8),marginLeft:e.spacing(1)},edit:{margin:"5%"}}})),We=Object(j.i)((function(e){var t=Be(),a=localStorage.getItem("username"),c=localStorage.getItem("userId"),i=localStorage.getItem("token"),s=i;N.a.defaults.headers.common.Authorization=i;var u=Object(r.useState)({user:null,found:!1}),p=Object(o.a)(u,2),x=p[0],m=(p[1],e.history,Object(j.g)()),O=Object(r.useRef)(null),f=(Object(j.h)().id,Object(r.useState)(!1)),v=Object(o.a)(f,2),y=v[0],w=v[1],k=Object(r.useState)({}),S=Object(o.a)(k,2),I=S[0],T=S[1],A=Object(r.useState)(),B=Object(o.a)(A,2),W=(B[0],B[1],Object(r.useState)(!1)),z=Object(o.a)(W,2),D=z[0],F=z[1],R=Object(r.useState)(!1),P=Object(o.a)(R,2),L=(P[0],P[1],Object(r.useState)(!1)),M=Object(o.a)(L,2),_=(M[0],M[1],Object(r.useState)()),q=Object(o.a)(_,2),E=q[0],H=q[1],G=Object(r.useState)(),U=Object(o.a)(G,2),K=U[0],Q=U[1],Z=Object(r.useState)(),$=Object(o.a)(Z,2);$[0],$[1];function ee(e){var t=e.target.value;T(Object(V.a)(Object(V.a)({},I),{},Object(h.a)({},e.target.name,t)))}Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("/api/v1/auth/get-user/".concat(c));case 3:t=e.sent,H(t.data),Q(t.data.profile.favourites),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),D&&null!=localStorage.getItem("token")&&(m.push("/"),F(!0)),Object(r.useEffect)((function(){x.found&&i&&x.userId===s.userId&&(H(!0),T({email:x.email,first_name:x.first_name,last_name:x.last_name,username:x.username}))}),[x]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(J.a,{item:!0,xs:4,children:Object(n.jsxs)(J.a,{container:!0,alignItems:"center",direction:"column",children:[Object(n.jsx)(Ie.a,{alt:"avatar",className:t.large}),Object(n.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:a}),Object(n.jsx)(g.a,{className:t.butt,variant:"contained",color:"secondary",type:"button",onClick:function(){w(!y)},children:"Edit Profile"}),y?Object(n.jsx)(Ne.a,{container:O.current,children:Object(n.jsx)(Y.a,{elevation:3,children:Object(n.jsx)(ue.a,{children:Object(n.jsxs)("form",{children:[Object(n.jsx)(C.a,{variant:"h6",gutterBottom:!0,children:"Edit Profile"}),Object(n.jsxs)(J.a,{container:!0,spacing:3,className:t.edit,children:[Object(n.jsx)(J.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(X.a,{required:!0,id:"firstName",name:"firstName",label:"First name",value:I.first_name,onChange:ee,autoComplete:"given-name"})}),Object(n.jsx)(J.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(X.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",value:I.last_name,onChange:ee,autoComplete:"family-name"})}),Object(n.jsx)(J.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(X.a,{required:!0,id:"username",name:"username",label:"Username",value:I.username,onChange:ee,autoComplete:"username"})}),Object(n.jsx)(J.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(X.a,{required:!0,id:"email",name:"email",label:"Email Address",value:I.email,onChange:ee,autoComplete:"email-address"})})]}),Object(n.jsx)(g.a,{className:t.button,onClick:function(){w(y-1)},children:"Back"}),Object(n.jsx)(g.a,{className:t.button,children:"Save"})]})})})}):null]})})}),Object(n.jsx)("div",{ref:O}),Object(n.jsxs)(J.a,{className:t.cardlinks,container:!0,spacing:2,children:[Object(n.jsx)(J.a,{item:!0,xs:6,children:Object(n.jsx)(Y.a,{children:Object(n.jsxs)(ne.a,{className:t.root,children:[Object(n.jsx)(Ae.a,{}),Object(n.jsxs)(re.a,{children:[Object(n.jsx)(C.a,{variant:"h3",component:"h3",children:"My Favorite Restaurants"}),Object(n.jsx)("div",{style:{marginTop:"10px"},children:E&&K?K.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/restaurant/".concat(e.id),style:{textDecoration:"none"},children:e.name})})})):Object(n.jsx)(C.a,{variant:"body1",component:"p",children:"View all your favorites here"})})]})]})})}),Object(n.jsx)(J.a,{item:!0,xs:6,children:Object(n.jsx)(Y.a,{children:Object(n.jsx)(ne.a,{className:t.root,children:Object(n.jsxs)(Te.a,{children:[Object(n.jsx)(Ae.a,{}),Object(n.jsxs)(re.a,{children:[Object(n.jsx)(C.a,{variant:"h3",component:"h3",children:"My Restaurant Reviews"}),Object(n.jsx)(C.a,{variant:"body1",component:"p",children:"All the list of reviews you have"})]})]})})})})]})]})})),ze=a(5),De=a(4);var Fe=Object(ze.a)((function(e){return{root:Object(h.a)({color:e.palette.common.white,position:"relative",display:"flex",alignItems:"center"},e.breakpoints.up("sm"),{height:"50vh",minHeight:500,maxHeight:1300}),container:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},backdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.5,zIndex:-1},background:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2},arrowDown:{position:"absolute",bottom:e.spacing(4)}}}))((function(e){var t=e.backgroundClassName,a=e.children,r=e.classes;return Object(n.jsx)("section",{className:r.root,children:Object(n.jsxs)(Q.a,{className:r.container,children:[a,Object(n.jsx)("div",{className:r.backdrop}),Object(n.jsx)("div",{className:Object(De.a)(r.background,t)})]})})})),Re="https://images.unsplash.com/photo-1493770348161-369560ae357d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80";var Pe=Object(ze.a)((function(e){return{background:{backgroundImage:"url(".concat(Re,")"),backgroundColor:"#000000",backgroundPosition:"center"},button:{minWidth:200},h5:Object(h.a)({marginBottom:e.spacing(4),marginTop:e.spacing(4)},e.breakpoints.up("sm"),{marginTop:e.spacing(4)}),more:{marginTop:e.spacing(2)}}}))((function(e){var t=e.classes;return Object(n.jsxs)(Fe,{backgroundClassName:t.background,children:[Object(n.jsx)("img",{style:{display:"none"},src:Re,alt:"increase priority"}),Object(n.jsx)(C.a,{color:"inherit",align:"center",variant:"h1",children:"Let's Go Halal!"}),Object(n.jsx)(C.a,{color:"inherit",align:"center",variant:"h5",className:t.h5,children:"Find halal certified food in your area."}),Object(n.jsx)(g.a,{color:"secondary",variant:"contained",size:"large",className:t.button,component:"a",href:"/map",children:"Search"})]})})),Le=a(170),Me=a.n(Le),_e=a(172),qe=a.n(_e),Ee=a(171),He=a.n(Ee);var Ge=Object(ze.a)((function(e){return{root:{display:"flex",overflow:"hidden",backgroundColor:"#f0efeb"},container:{marginTop:e.spacing(10),marginBottom:e.spacing(10),display:"flex",position:"relative"},item:{display:"flex",flexDirection:"column",padding:e.spacing(5,2)},image:{height:55},title:{marginTop:e.spacing(1),marginBottom:e.spacing(3)},curvyLines:{pointerEvents:"none",position:"absolute",top:-180}}}))((function(e){var t=e.classes;return Object(n.jsx)("section",{className:t.root,children:Object(n.jsx)(Q.a,{className:t.container,children:Object(n.jsxs)(J.a,{container:!0,spacing:5,children:[Object(n.jsx)(J.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(Y.a,{children:Object(n.jsxs)("div",{className:t.item,children:[Object(n.jsx)(Me.a,{style:{fontSize:50}}),Object(n.jsx)(C.a,{variant:"h5",className:t.title,children:"Discover nearby"}),Object(n.jsxs)(C.a,{variant:"h6",children:["Always wondered about what to eat, and  "," and not wanting to travel far? We've got you covered!"]})]})})}),Object(n.jsx)(J.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(Y.a,{children:Object(n.jsxs)("div",{className:t.item,children:[Object(n.jsx)(He.a,{style:{fontSize:50}}),Object(n.jsx)(C.a,{variant:"h5",className:t.title,children:"New experiences"}),Object(n.jsx)(C.a,{variant:"h6",children:"Time for a change in flavour, a little bit of adventure."})]})})}),Object(n.jsx)(J.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(Y.a,{children:Object(n.jsxs)("div",{className:t.item,children:[Object(n.jsx)(qe.a,{style:{fontSize:50}}),Object(n.jsx)(C.a,{variant:"h5",className:t.title,children:"Read before you eat"}),Object(n.jsx)(C.a,{variant:"h6",children:"Fret not! Reviews will help you decide if it's worth the trip."})]})})})]})})})}));var Ve=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Pe,{}),Object(n.jsx)(Ge,{})]})};var Ue=a(395),Ye=a(97),Je=a.n(Ye);function Xe(){return Object(n.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(K.a,{color:"inherit",href:"https://material-ui.com/",children:"goHalal"})," ",(new Date).getFullYear(),"."]})}var Ke=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Qe(e){var t=e.isAuth,a=e.setIsAuth,c=e.isAdmin,i=e.setIsAdmin,s=(e.isOwner,e.setIsOwner,e.login,e.setLogin);return function(e){var l=Ke(),u=Object(r.useState)({email:"",password:""}),p=Object(o.a)(u,2),x=p[0],m=p[1];function O(){return(O=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/signin/",x);case 3:t=e.sent,localStorage.setItem("token",t.data.token),localStorage.setItem("userId",t.data.user_id),localStorage.setItem("username",t.data.username),"admin"==t.data.username&&i(!0),a(!0),s(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var f=function(e){return m(Object(V.a)(Object(V.a)({},x),{},Object(h.a)({},e.target.name,e.target.value)))};return t&&c&&null!=localStorage.getItem("token")?Object(n.jsx)(j.a,{to:"/admin"}):t?Object(n.jsx)(j.a,{to:"/"}):Object(n.jsx)(Y.a,{children:Object(n.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(Ue.a,{}),Object(n.jsxs)("div",{className:l.paper,children:[Object(n.jsx)(Ie.a,{className:l.avatar,children:Object(n.jsx)(Je.a,{})}),Object(n.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(n.jsx)(X.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",autoComplete:"email",autoFocus:!0,onChange:f}),Object(n.jsx)(X.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:f}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit,onClick:function(e){e.preventDefault(),function(){O.apply(this,arguments)}()},children:"Sign In"}),Object(n.jsx)(J.a,{container:!0,children:Object(n.jsx)(J.a,{item:!0,children:Object(n.jsx)(K.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(n.jsx)(U.a,{mt:8,children:Object(n.jsx)(Xe,{})})]})})}()}a(324);function Ze(){return Object(n.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(K.a,{color:"inherit",href:"https://material-ui.com/",children:"goHalal"})," ",(new Date).getFullYear(),"."]})}var $e=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function et(e){var t=e.isAuth,a=e.setIsAuth,c=$e(),i=Object(r.useState)({email:"",username:"",password:""}),s=Object(o.a)(i,2),l=s[0],u=s[1];function p(){return(p=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("/api/v1/auth/signup/",l);case 3:t=e.sent,localStorage.setItem("token",t.data.token),localStorage.setItem("username",t.data.user.username),localStorage.setItem("userId",t.data.user_id),a(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var x=function(e){return u(Object(V.a)(Object(V.a)({},l),{},Object(h.a)({},e.target.name,e.target.value)))};return t||null!=localStorage.getItem("token")?Object(n.jsx)(j.a,{to:"/"}):Object(n.jsx)(Y.a,{children:Object(n.jsxs)(Q.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(Ue.a,{}),Object(n.jsxs)("div",{className:c.paper,children:[Object(n.jsx)(Ie.a,{className:c.avatar,children:Object(n.jsx)(Je.a,{})}),Object(n.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:c.form,noValidate:!0,children:[Object(n.jsxs)(J.a,{container:!0,spacing:2,children:[Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,onChange:x})}),Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:x})}),Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(X.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:x})})]}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(e){e.preventDefault(),function(){p.apply(this,arguments)}()},children:"Sign Up"}),Object(n.jsx)(J.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(J.a,{item:!0,children:Object(n.jsx)(K.a,{href:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(U.a,{mt:5,children:Object(n.jsx)(Ze,{})})]})})}var tt=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];function i(){return s.apply(this,arguments)}function s(){return(s=Object(b.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N.a.get("/api/v1/auth/get-request",{headers:{Authorization:"Token ".concat(t)}});case 4:a=e.sent,n=a.data.requests,c(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,N.a.delete("api/v1/auth/delete-request/".concat(t),{headers:{Authorization:"Token ".concat(a)}});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(){return(j=Object(b.a)(d.a.mark((function e(t,a){var n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,N.a.put("/api/v1/auth/accept-request/".concat(t,"/").concat(a),{},{headers:{Authorization:"Token ".concat(n)}});case 4:r=e.sent,i=r.data.requests,c(i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function u(e,t,a){!function(e,t){j.apply(this,arguments)}(t,a),function(e){l.apply(this,arguments)}(e),i()}Object(r.useEffect)((function(){return i(),function(){}}),[]);var h=Object(p.a)((function(e){return{header:{backgroundImage:"url(".concat("https://images.unsplash.com/photo-1496167117681-944f702be1f4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1189&q=80",")"),height:"30vh",position:"center",backgroundSize:"cover"}}}))();return Object(n.jsx)(n.Fragment,{children:a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(J.a,{container:!0,className:h.header,alignItems:"center",justify:"center",children:Object(n.jsxs)(J.a,{item:!0,children:[Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(C.a,{variant:"h2",color:"textSecondary",children:"Welcome back Admin!"})}),Object(n.jsx)(J.a,{container:!0,justify:"center",style:{marginTop:"5px"},children:Object(n.jsx)(se.a,{color:"primary",label:"".concat(a.length," pending request(s)"),style:{padding:"10px"}})})]})}),Object(n.jsx)(J.a,{container:!0,children:Object(n.jsx)(Q.a,{children:Object(n.jsx)("ul",{className:"list-group mb-4",children:Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(J.a,{item:!0,xs:10,children:a.map((function(e,t){return Object(n.jsx)(J.a,{item:!0,xs:12,children:Object(n.jsx)(ne.a,{className:h.card,style:{marginTop:"10px"},children:Object(n.jsxs)(re.a,{className:h.cardContent,children:[Object(n.jsxs)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[e.id," - ",e.user.username.toUpperCase()]}),Object(n.jsx)("a",{href:"mailto: ".concat(e.user.email),children:e.user.email}),Object(n.jsxs)(C.a,{children:["Requesting ownership of ",e.restaurant.name]}),Object(n.jsx)(g.a,{style:{marginTop:"10px"},fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return u(e.id,e.user.id,e.restaurant.id)},children:"Ok bro"})]})})},t)}))})})})})})]}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(J.a,{container:!0,className:h.header,alignItems:"center",justify:"center",children:Object(n.jsxs)(J.a,{item:!0,children:[Object(n.jsx)(J.a,{container:!0,justify:"center",children:Object(n.jsx)(C.a,{variant:"h2",color:"textSecondary",children:"Welcome back Admin!"})}),Object(n.jsx)(J.a,{container:!0,justify:"center",style:{marginTop:"5px"},children:Object(n.jsx)(se.a,{color:"primary",label:"No pending requests",style:{padding:"10px"}})})]})})]})})};var at=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],b=Object(r.useState)(!1),h=Object(o.a)(b,2),p=h[0],x=h[1],m=Object(r.useState)(!1),O=Object(o.a)(m,2),g=O[0],f=O[1],v=Object(r.useState)(!1),y=Object(o.a)(v,2),w=y[0],k=y[1];return Object(r.useEffect)((function(){localStorage.getItem("token")&&c(!0)}),[]),Object(n.jsxs)(l.a,{basename:"/",children:[Object(n.jsx)(G,{isAuth:a,setIsAuth:c,isAdmin:u,setIsAdmin:d,isOwner:p,setIsOwner:x,login:g,setLogin:f,logout:w,setLogout:k}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",children:Object(n.jsx)(Ve,{})}),Object(n.jsx)(j.b,{path:"/signin",children:Object(n.jsx)(Qe,{isAuth:a,setIsAuth:c,isAdmin:u,setIsAdmin:d,login:g,setLogin:f})}),Object(n.jsx)(j.b,{path:"/signup",children:Object(n.jsx)(et,{isAuth:a,setIsAuth:c})}),Object(n.jsx)(j.b,{path:"/all-restaurants",children:Object(n.jsx)(Ce,{})}),Object(n.jsx)(j.b,{path:"/map",children:Object(n.jsx)(ie,{})}),Object(n.jsx)(j.b,{path:"/user/:id",children:Object(n.jsx)(We,{isAuth:a,setIsAuth:c})}),Object(n.jsx)(j.b,{path:"/restaurant/:id",children:Object(n.jsx)(ye,{isAuth:a,setIsAuth:c})}),Object(n.jsx)(j.b,{path:"/admin",children:Object(n.jsx)(tt,{isAuth:a,setIsAuth:c,isAdmin:u,setIsAdmin:d})})]})]})},nt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,411)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(at,{})}),document.getElementById("root")),nt()}},[[326,1,2]]]);
//# sourceMappingURL=main.2fcb732a.chunk.js.map